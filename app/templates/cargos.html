{% extends 'base.html' %}
{% block title %}Cargos{% endblock %}

{% block content %}
  <h1>Lista de Cargos</h1>

  <ul>
    {% for cargo in cargos %}
      <li>{{ cargo.nombre_cargo }} - {{ cargo.cargo_departamento.nombre_departamento }}</li>
    {% endfor %}
  </ul>

   <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#agregarCargoModal">
   Agregar Cargo
   </button>

<!-- Modal para agregar cargo -->
<div class="modal fade" id="agregarCargoModal" tabindex="-1" aria-labelledby="agregarCargoModalLabel" aria-hidden="true">
   <div class="modal-dialog">
      <div class="modal-content">
         <div class="modal-header">
            <h5 class="modal-title" id="agregarCargoModalLabel">Agregar Cargo</h5>
            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
         </div>
         <div class="modal-body">
            <form method="POST" action="{{ url_for('cargos.listar_cargos') }}">
               {{ form.hidden_tag() }}
               <div class="form-group">
                  <label for="{{ form.nombre_cargo.id }}">Nombre del Cargo</label>
                  {{ form.nombre_cargo(class="form-control", id=form.nombre_cargo.id) }}
               </div>
               <div class="form-group">
                  <label for="{{ form.departamento_id.id }}">Departamento</label>
                  {{ form.departamento_id(class="form-control", id=form.departamento_id.id) }}
               </div>
               <button type="submit" class="btn btn-primary">Agregar</button>
            </form>
         </div>
      </div>
   </div>
</div>   
{% endblock %}